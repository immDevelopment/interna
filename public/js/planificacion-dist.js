"use strict";function _toConsumableArray(a){if(Array.isArray(a)){for(var t=0,e=Array(a.length);t<a.length;t++)e[t]=a[t];return e}return Array.from(a)}var xhr=new XMLHttpRequest,dataGet=function(a){xhr.onreadystatechange=function(){4===xhr.readyState&&200===xhr.status&&respuesta(xhr)},xhr.open("GET","php/planificacion.php?tsql="+a,!0),xhr.send()},respuesta=function(a){var t=JSON.parse(a.responseText),e=document.getElementById("data"),n=matchMedia("(min-width: 768px)");if(changeSize(n)){e.innerHTML+='\n            <div class="dataTable">\n                <div class="dataTable__header">\n                    <div class="dataTable__text">ID proyecto</div>\n                    <div class="dataTable__text">Proyecto</div>\n                    <div class="dataTable__text">Fecha Aprobación</div>\n                    <div class="dataTable__text">Fecha Fin</div>\n                    <div class="dataTable__graphic">Dias del mes</div>\n                </div>\n        ';var i=!0,r=!1,d=void 0;try{for(var o,c=t.data[Symbol.iterator]();!(i=(o=c.next()).done);i=!0){var l=o.value;e.innerHTML+='\n            \n            <div class="dataTable__data">\n            <div class="dataTable__text">'+l.CodigoProyecto+'</div>\n            <div class="dataTable__text">'+l.Proyecto+'</div>\n            <div class="dataTable__text">'+l.inicio+'</div>\n            <div class="dataTable__text">'+l.fin+'</div>\n            <div class="dataTable__graphic"">\n                <div class="graphic" id="'+l.CodigoProyecto+'"></div>\n            </div>\n          </div>\n            '}}catch(a){r=!0,d=a}finally{try{!i&&c.return&&c.return()}finally{if(r)throw d}}e.innerHTML+="</div>"}else{var s=!0,v=!1,_=void 0;try{for(var y,u=t.data[Symbol.iterator]();!(s=(y=u.next()).done);s=!0){var h=y.value;e.innerHTML+='\n\n            <div class="data__item">\n              <div class="data__header">\n              <h2 class="data__title">'+h.CodigoProyecto+" "+h.Proyecto+'</h2><i class="data__icon"></i>\n              </div>\n              <div class="data__info">\n              \n            <!--Datos proyecto-->\n            \n              <div class="data__text">Fecha Aprobación '+h.inicio+'</div>\n              <div class="data__text">Fecha Prevista Fin '+h.fin+'</div>\n              <div class="data__text">Duración '+h.duracion+" días</div>\n            </div>\n            "}}catch(a){v=!0,_=a}finally{try{!s&&u.return&&u.return()}finally{if(v)throw _}}items=[].concat(_toConsumableArray(document.querySelectorAll(".data__info"))),icons=[].concat(_toConsumableArray(document.querySelectorAll(".data__icon")))}for(var x=[],f=0,b=0;b<t.data.length;b++)x[b]={id:t.data[b].CodigoProyecto,duration:t.data[b].duracion},console.log(t.data[b]),t.data[b].duracion>f&&(f=t.data[b].duracion);[].concat(_toConsumableArray(document.querySelectorAll(".graphic")));var p=function(a,t){var e=document.getElementById(a),n=100*t/f;e.style.width=n+"%",e.textContent=(n.toFixed(2).endsWith("00")?n.toFixed(0):n.toFixed(2))+"%"},m=!0,T=!1,g=void 0;try{for(var A,C=x[Symbol.iterator]();!(m=(A=C.next()).done);m=!0){var F=A.value;p(F.id,F.duration)}}catch(a){T=!0,g=a}finally{try{!m&&C.return&&C.return()}finally{if(T)throw g}}};dataGet("proyecto");